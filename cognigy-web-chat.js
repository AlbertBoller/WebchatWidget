const createElement=function(a,b,c){const d=document.createElement(a);return d.className=b,c&&(d.id=c),d},mainChatElement=document.getElementById("cognigy"),outerContainer=createElement("div","cognigy-outer-container__closed","cognigy-outer-container"),toggleChatState=createElement("div","cognigy-chat-state-closed","cognigy-toggle-state");toggleChatState.onclick=handleChatOpen,mainChatElement.append(outerContainer),mainChatElement.append(toggleChatState);const headerContainer=createElement("div","cognigy-chat-header-container__open","cognigy-header"),header=createElement("div","cognigy-chat-header"),headerText=createElement("div","cognigy-header-text"),headerTitle=createElement("span","cognigy-header-title"),headerSubtitle=createElement("span","cognigy-header-subtitle");headerTitle.append(document.createTextNode("Cognigy")),headerSubtitle.append(document.createTextNode("Online")),headerText.append(headerTitle),headerText.append(headerSubtitle);const avatar=createElement("img","cognigy-header-avatar");avatar.src="./images/cognigy_avatar.svg",avatar.id="cognigyHeaderLogo",header.append(avatar),header.append(headerText),headerContainer.append(header),outerContainer.append(headerContainer);const chatContainer=createElement("div","cognigy-chat-container","cognigy-container");outerContainer.append(chatContainer);const chatForm=createElement("form","cognigy-chat-form","cognigy-form");outerContainer.append(chatForm);const chatInput=createElement("input","cognigy-chat-input","cognigy-input");chatInput.placeholder="Write a reply",chatForm.append(chatInput);const chatButton=createElement("button","cognigy-chat-button","cognigy-button");chatButton.type="submit";const sendAvatar=createElement("img","cognigy-send-icon");sendAvatar.src="./images/send.svg",chatButton.append(sendAvatar),chatForm.append(chatButton);const recordToggleButton=createElement("button","cognigy-record-toggle-button","cognigy-record-toggle");recordToggleButton.onclick=()=>handleRecordToggle(),recordToggleButton.type="button";const recordToggleAvatar=createElement("img","cognigy-record-toggle-icon");recordToggleAvatar.src="./images/mic_off.svg",recordToggleButton.append(recordToggleAvatar),chatForm.append(recordToggleButton);const recordButton=createElement("button","displayNone","cognigy-record");recordButton.type="button",chatForm.prepend(recordButton);let recordToggled=!1;function handleRecordToggle(){recordToggled=!recordToggled,recordToggled?(recordToggleAvatar.src="./images/mic_on.svg",chatInput.className="displayNone",chatForm.style.justifyContent="center",recordButton.className="cognigy-record-button"):(recordToggleAvatar.src="./images/mic_off.svg",recordButton.className="displayNone",chatInput.className="cognigy-chat-input")}function handleChatOpen(){const a=document.getElementById("cognigy-toggle-state"),b=document.getElementById("cognigy-outer-container"),c=document.getElementById("cognigy-header");"cognigy-chat-state-closed"===a.className?(b.className="cognigy-outer-container__open",a.className="cognigy-chat-state-open"):(b.className="cognigy-outer-container__closed",a.className="cognigy-chat-state-closed")}function handleSendMessage(a){a.preventDefault();const b=document.getElementById("cognigy-input").value,c=document.getElementById("cognigy-container"),d=document.createElement("div"),f=document.createElement("div"),g=document.createTextNode(b);f.className="cognigy-chat-user-message",d.className="cognigy-chat-user-message-container",f.append(g),d.append(f);const h=document.createElement("img");h.className="cognigy-chat-user-avatar",h.src="./images/user_avatar.jpg",d.append(h),c.append(d),c.scrollTop=c.scrollHeight}const formElement=document.getElementById("cognigy-form");formElement.addEventListener("submit",a=>handleSendMessage(a),!1);function handleDisplayRecording(a){const b=document.getElementById("cognigy-container"),c=document.createElement("div"),d=document.createElement("div"),f=document.createTextNode(a);d.className="cognigy-chat-user-message",c.className="cognigy-chat-user-message-container",d.append(f),c.append(d);const g=document.createElement("img");g.className="cognigy-chat-user-avatar",g.src="./images/user_avatar.jpg",c.append(g),b.append(c),b.scrollTop=b.scrollHeight}function handleDisplayPostbackMessage(a){const b=document.getElementById("cognigy-container"),c=document.createElement("div"),d=document.createElement("div"),f=document.createTextNode(a);d.className="cognigy-chat-user-message",c.className="cognigy-chat-user-message-container",d.appendChild(f),c.appendChild(d);const g=document.createElement("img");g.className="cognigy-chat-user-avatar",g.src="./images/user_avatar.jpg",c.appendChild(g),b.appendChild(c),b.scrollTop=b.scrollHeight}function displayCognigyMessage(a,b){if(!a)return null;const c=a&&a.text,d=document.getElementById("cognigy-container");if("undefined"!=typeof c){const g=document.createElement("div"),h=document.createElement("div"),i=document.createTextNode(c),j=createElement("img","cognigy-chat-bot-avatar");var f=new Image;f.onload=()=>{j.src=b},f.onerror=()=>{j.src="./images/cognigy_logo.svg"},f.src=b,g.append(j),h.className="cognigy-chat-bot-message",g.className="cognigy-chat-bot-message-container",h.append(i),g.append(h),d.append(g)}if(a&&a.data&&(a.data.facebook||a.data._cognigy&&a.data._cognigy._facebook)){const g=new RichMessages(a.data,d);g.renderMessage()}d.scrollTop=d.scrollHeight}