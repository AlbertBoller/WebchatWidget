"use strict";var createElement=function(b,c,d){var f=document.createElement(b);return f.className=c,d&&(f.id=d),f},mainChatElement=document.getElementById("cognigy"),outerContainer=createElement("div","cognigy-outer-container__closed","cognigy-outer-container"),toggleChatState=createElement("div","cognigy-chat-state-closed","cognigy-toggle-state");toggleChatState.onclick=handleChatOpen,mainChatElement.append(outerContainer),mainChatElement.append(toggleChatState);var headerContainer=createElement("div","cognigy-chat-header-container__open","cognigy-header"),header=createElement("div","cognigy-chat-header"),headerText=createElement("div","cognigy-header-text"),headerTitle=createElement("span","cognigy-header-title"),headerSubtitle=createElement("span","cognigy-header-subtitle");headerTitle.append(document.createTextNode("Cognigy")),headerSubtitle.append(document.createTextNode("Online")),headerText.append(headerTitle),headerText.append(headerSubtitle);var avatar=createElement("img","cognigy-header-avatar");avatar.src="./images/cognigy_avatar.svg",avatar.id="cognigyHeaderLogo",header.append(avatar),header.append(headerText),headerContainer.append(header),outerContainer.append(headerContainer);var chatContainer=createElement("div","cognigy-chat-container","cognigy-container");outerContainer.append(chatContainer);var chatForm=createElement("form","cognigy-chat-form","cognigy-form");outerContainer.append(chatForm);var chatInput=createElement("input","cognigy-chat-input","cognigy-input");chatInput.placeholder="Write a reply",chatForm.append(chatInput);var chatButton=createElement("button","cognigy-chat-button","cognigy-button");chatButton.type="submit";var sendAvatar=createElement("img","cognigy-send-icon");sendAvatar.src="./images/send.svg",chatButton.append(sendAvatar),chatForm.append(chatButton);var recordToggleButton=createElement("button","cognigy-record-toggle-button","cognigy-record-toggle");recordToggleButton.onclick=function(){return handleRecordToggle()},recordToggleButton.type="button";var recordToggleAvatar=createElement("img","cognigy-record-toggle-icon");recordToggleAvatar.src="./images/mic_off.svg",recordToggleButton.append(recordToggleAvatar),chatForm.append(recordToggleButton);var recordButton=createElement("button","displayNone","cognigy-record");recordButton.type="button",chatForm.prepend(recordButton);var recordToggled=!1;function handleRecordToggle(){recordToggled=!recordToggled,recordToggled?(recordToggleAvatar.src="./images/mic_on.svg",chatInput.className="displayNone",chatForm.style.justifyContent="center",recordButton.className="cognigy-record-button"):(recordToggleAvatar.src="./images/mic_off.svg",recordButton.className="displayNone",chatInput.className="cognigy-chat-input")}function handleChatOpen(){var a=document.getElementById("cognigy-toggle-state"),b=document.getElementById("cognigy-outer-container"),c=document.getElementById("cognigy-header");"cognigy-chat-state-closed"===a.className?(b.className="cognigy-outer-container__open",a.className="cognigy-chat-state-open"):(b.className="cognigy-outer-container__closed",a.className="cognigy-chat-state-closed")}function handleSendMessage(a){a.preventDefault();var b=document.getElementById("cognigy-input").value,c=document.getElementById("cognigy-container"),d=document.createElement("div"),f=document.createElement("div"),g=document.createTextNode(b);f.className="cognigy-chat-user-message",d.className="cognigy-chat-user-message-container",f.append(g),d.append(f);var h=document.createElement("img");h.className="cognigy-chat-user-avatar",h.src="./images/user_avatar.jpg",d.append(h),c.append(d),c.scrollTop=c.scrollHeight}var formElement=document.getElementById("cognigy-form");formElement.addEventListener("submit",function(a){return handleSendMessage(a)},!1);function handleDisplayRecording(a){var b=document.getElementById("cognigy-container"),c=document.createElement("div"),d=document.createElement("div"),f=document.createTextNode(a);d.className="cognigy-chat-user-message",c.className="cognigy-chat-user-message-container",d.append(f),c.append(d);var g=document.createElement("img");g.className="cognigy-chat-user-avatar",g.src="./images/user_avatar.jpg",c.append(g),b.append(c),b.scrollTop=b.scrollHeight}function handleDisplayPostbackMessage(a){var b=document.getElementById("cognigy-container"),c=document.createElement("div"),d=document.createElement("div"),f=document.createTextNode(a);d.className="cognigy-chat-user-message",c.className="cognigy-chat-user-message-container",d.appendChild(f),c.appendChild(d);var g=document.createElement("img");g.className="cognigy-chat-user-avatar",g.src="./images/user_avatar.jpg",c.appendChild(g),b.appendChild(c),b.scrollTop=b.scrollHeight}function displayCognigyMessage(a,b){if(!a)return null;var c=a&&a.text,d=document.getElementById("cognigy-container");if("undefined"!=typeof c){var f=document.createElement("div"),g=document.createElement("div"),h=document.createTextNode(c),i=createElement("img","cognigy-chat-bot-avatar"),j=new Image;j.onload=function(){i.src=b},j.onerror=function(){i.src="./images/cognigy_logo.svg"},j.src=b,f.append(i),g.className="cognigy-chat-bot-message",f.className="cognigy-chat-bot-message-container",g.append(h),f.append(g),d.append(f)}if(a&&a.data&&(a.data.facebook||a.data._cognigy&&a.data._cognigy._facebook)){var k=new RichMessages(a.data,d);k.renderMessage()}d.scrollTop=d.scrollHeight}