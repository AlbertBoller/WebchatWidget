<head>
  <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body>
  <div
    class="cognigy-web-chat"
    id="cognigy"
  >
  </div>
  <script src="index-minified.js"></script>
  <script src="cognigy-web-client.js"></script>
   <script>
       var handleCognigyMessage = function() {
           const options = {
               baseUrl: 'https://dev.api.cognigy.com',
               user: 'k.zederkof@cognigy.com',
               apikey: 'testapikey',
               channel: 'my-website',
               flow: 'Kaspi',
               language: 'en-US',
               handleOutput: function(output) {
                 displayCognigyMessage(output);
               }
           };
           const inputValue = document.getElementById("cognigy-input").value;
           var client = new Cognigy.CognigyWebClient(options);
           client.connect()
               .then(function() {
                   // 1) send an event directly
                   client.sendMessage(inputValue, undefined);
               })
               .catch(function(error) {
                   console.log(error);
               });
       };

       // listen on form submit event and use handleCognigyMessage function
      formElement.addEventListener("submit", () => handleCognigyMessage(), false);

   </script>
 </body>
